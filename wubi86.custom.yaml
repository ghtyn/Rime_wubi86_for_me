patch:
  # --- åŸºç¡€ç¿»è¯‘å™¨è®¾ç½® ---
  translator/dictionary: wubi86
  translator/enable_sentence: false
  # translator/enable_user_dict: false
  # translator/enable_completion: false

  # --- æ‹¼å†™ä¸è‡ªåŠ¨ä¸Šå± ---
  speller/max_code_length: 4
  speller/auto_select: true

  # --- ç®€ç¹è½¬æ¢ ---
  simplifier:
    opencc_config: s2t.json
    option_name: zh_trad

  # --- çŠ¶æ€å¼€å…³ ---
  switches:
    - name: ascii_mode
      reset: 1
      states: [ ä¸­, è¥¿ ]
    - name: full_shape
      states: [ åŠ, å…¨ ]
    - name: extended_charset
      states: [ å¸¸, å¢ ]
    - name: ascii_punct
      states: [ ã€‚, ï¼ ]
    - name: zh_trad
      reset: 0
      states: [ æ±‰, æ¼¢ ]
    - name: emoji
      states: [ ğŸˆšï¸, ğŸˆ¶ ]
      reset: 1

  # --- Lua ç»„ä»¶æŒ‚è½½ ---
  engine/processors/@before 0: "lua_processor@wubi86_top_processor"

  engine/filters:
    - simplifier            # ç®€ç¹è½¬æ¢
    - lua_filter@wubi86_top_filter
    - simplifier@emoji      # Emojiè½¬æ¢
    - uniquifier            # è¿‡æ»¤é‡å¤é¡¹

  engine/translators/+:
    - "lua_translator@date_translator"
    - table_translator@custom_phrase

  # --- è‡ªå®šä¹‰çŸ­å¥è®¾ç½® ---
  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase  # å¯¹åº”æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰
    db_class: stabledb
    enable_completion: false
    enable_sentence: false
    initial_quality: 1000     # ç»™ä¸€ä¸ªè¾ƒé«˜çš„åŸºç¡€æƒé‡

  # --- Emoji è®¾ç½® ---
  emoji:
    option_name: emoji
    opencc_config: emoji.json
    inherit_comment: false

  wubi86_top:
    mark: "â "                # ç½®é¡¶æ ‡è®°
    max_scan: 30                # æ‰«ææ·±åº¦
    pin_key: "Control+t"        # ç½®é¡¶/å–æ¶ˆç½®é¡¶å¿«æ·é”®
    del_key: "Control+d"        # å±è”½è¯æ¡å¿«æ·é”®



  # --- å¿«æ·é”®å˜é‡å®šä¹‰ä¸ç»‘å®š ---
  key_binder/+:
    import_preset: default
    bindings:
      - {accept: semicolon, send: 2, when: has_menu}   # åˆ†å·é€‰äºŒé‡
      - {accept: apostrophe, send: 3, when: has_menu}  # å¼•å·é€‰ä¸‰é‡
      - {accept: bracketleft, send: Page_Up, when: paging}
      - {accept: bracketright, send: Page_Down, when: has_menu}